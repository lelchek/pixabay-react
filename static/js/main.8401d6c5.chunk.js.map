{"version":3,"sources":["components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/modal/Modal.js","services/pixabay-api.js","App.js","index.js"],"names":["Searchbar","state","searchPicture","handleSubmit","e","preventDefault","console","log","props","onSearch","setState","handleChange","target","value","className","onSubmit","this","type","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","largeImageURL","onOpenModal","src","alt","onClick","ImageGallery","gallery","map","item","key","Button","onLoadMore","Modal","url","active","onCloseModal","classNameModal","window","addEventListener","BASE_URL","urlPictures","query","page","a","async","axios","get","mapper","pictures","picture","App","search","idLageImage","urlLageImage","activeModal","activeLoader","searchToFetch","fetchPictures","then","data","hits","loadMorePicture","addMorePicture","prevState","error","setTimeout","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","closeModal","keyCode","prevProps","color","height","width","timeout","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8401d6c5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './searchbar.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchPicture: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    console.log('submit-->', this.state.searchPicture);\r\n    this.props.onSearch(this.state.searchPicture);\r\n    this.setState({ searchPicture: '' });\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      searchPicture: e.target.value,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\"></span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            value={this.state.searchPicture}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport './imageGalleryItem.css';\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, largeImageURL, onOpenModal }) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img\r\n      src={webformatURL}\r\n      alt=\"\"\r\n      className=\"ImageGalleryItem-image\"\r\n      onClick={() => onOpenModal(id, largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport './imageGallery.css';\r\n\r\nconst ImageGallery = ({ gallery, onOpenModal }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {gallery.map(item => (\r\n      <ImageGalleryItem\r\n        key={item.id}\r\n        {...item}\r\n        onOpenModal={onOpenModal}\r\n      ></ImageGalleryItem>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport './button.css';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button className=\"Button\" onClick={onLoadMore}>\r\n    Load More\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport './modal.css';\r\n\r\nconst Modal = ({ id, url, active, onCloseModal }) => {\r\n  let classNameModal = 'Overlay';\r\n  if (active) {\r\n    classNameModal += ' isOpen';\r\n  } else {\r\n    classNameModal = 'Overlay';\r\n  }\r\n  window.addEventListener('keyup', onCloseModal);\r\n  return (\r\n    <div\r\n      className={classNameModal}\r\n      onClick={onCloseModal}\r\n      // onKeyDown={onCloseModal}\r\n    >\r\n      <div className=\"Modal\">\r\n        <img src={url} alt=\"\" key={id} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst key = '14483481-79c56d9334325a9bf5ec6966e';\r\nconst BASE_URL = `https://pixabay.com/api/?key=${key}&image_type=photo&orientation=horizontal&per_page=12&q=`;\r\n\r\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n// https://pixabay.com/api/?key=14483481-79c56d9334325a9bf5ec6966e&q=car&page=1&image_type=photo&orientation=horizontal&per_page=12\r\n\r\n// /* eslint-disable-next-line */\r\nexport const urlPictures = async (query, page) =>\r\n  await axios.get(BASE_URL + query + `&page=${page}`);\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './components/searchbar/Searchbar';\r\nimport ImageGallery from './components/imageGallery/ImageGallery';\r\nimport Button from './components/button/Button';\r\nimport Modal from './components/modal/Modal';\r\nimport { urlPictures } from './services/pixabay-api';\r\nimport Loader from 'react-loader-spinner';\r\nimport './app.css';\r\n\r\nconst mapper = pictures => {\r\n  return pictures.map(picture => {\r\n    return {\r\n      id: picture.id,\r\n      webformatURL: picture.webformatURL,\r\n      largeImageURL: picture.largeImageURL,\r\n    };\r\n  });\r\n};\r\n\r\nclass App extends Component {\r\n  state = {\r\n    gallery: [],\r\n    search: '',\r\n    page: 1,\r\n    idLageImage: '',\r\n    urlLageImage: '',\r\n    activeModal: false,\r\n    activeLoader: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.search !== this.state.search) {\r\n      this.fetchPictures(this.state.search, this.state.page);\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.fetchPictures(this.state.search, this.state.page);\r\n  }\r\n\r\n  searchToFetch = value => {\r\n    this.setState({ search: value, page: 1 });\r\n  };\r\n\r\n  fetchPictures = (search, page) => {\r\n    this.setState({ activeLoader: true });\r\n    urlPictures(search, page).then(({ data }) => {\r\n      this.setState({\r\n        gallery: mapper(data.hits),\r\n        activeLoader: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  loadMorePicture = () => {\r\n    try {\r\n      this.setState({ activeLoader: true });\r\n      urlPictures(this.state.search, this.state.page + 1).then(({ data }) => {\r\n        const addMorePicture = mapper(data.hits);\r\n        this.setState(prevState => ({\r\n          gallery: [...prevState.gallery, ...addMorePicture],\r\n          page: prevState.page + 1,\r\n          activeLoader: false,\r\n        }));\r\n      });\r\n    } catch (error) {\r\n      console.log('error');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 800);\r\n  };\r\n\r\n  openModal = (id, url) => {\r\n    this.setState({\r\n      idLageImage: id,\r\n      urlLageImage: url,\r\n      activeModal: true,\r\n    });\r\n  };\r\n\r\n  closeModal = e => {\r\n    if (e.target.className === 'Overlay isOpen' || e.keyCode === 27) {\r\n      this.setState({\r\n        activeModal: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      gallery,\r\n      idLageImage,\r\n      urlLageImage,\r\n      activeModal,\r\n      activeLoader,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"appClass\">\r\n        <Searchbar onSearch={this.searchToFetch}></Searchbar>\r\n        <ImageGallery\r\n          gallery={gallery}\r\n          onOpenModal={this.openModal}\r\n        ></ImageGallery>\r\n        <Button onLoadMore={this.loadMorePicture}></Button>\r\n        <Modal\r\n          id={idLageImage}\r\n          url={urlLageImage}\r\n          active={activeModal}\r\n          onCloseModal={this.closeModal}\r\n        ></Modal>\r\n        {activeLoader && (\r\n          <Loader\r\n            className=\"loader\"\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={500}\r\n            width={500}\r\n            timeout={3000}\r\n            //3 secs\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}