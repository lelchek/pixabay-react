(this["webpackJsonptemplate-react"]=this["webpackJsonptemplate-react"]||[]).push([[0],{22:function(e,t,a){e.exports=a(73)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=a(9),l=a(3),s=a(4),u=a(6),m=a(5),h=a(7),d=(a(27),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchPicture:""},a.handleSubmit=function(e){e.preventDefault(),console.log("submit--\x3e",a.state.searchPicture),a.props.onSearch(a.state.searchPicture),a.setState({searchPicture:""})},a.handleChange=function(e){a.setState({searchPicture:e.target.value})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"})),r.a.createElement("input",{className:"SearchForm-input",type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:this.handleChange,value:this.state.searchPicture})))}}]),t}(n.Component)),p=(a(28),function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL,c=e.onOpenModal;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:a,alt:"",className:"ImageGalleryItem-image",onClick:function(){return c(t,n)}}))}),g=(a(29),function(e){var t=e.gallery,a=e.onOpenModal;return r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(p,Object.assign({key:e.id},e,{onOpenModal:a}))})))}),f=(a(30),function(e){var t=e.onLoadMore;return r.a.createElement("button",{className:"Button",onClick:t},"Load More")}),v=(a(31),function(e){var t=e.id,a=e.url,n=e.active,c=e.onCloseModal,o="Overlay";return n?o+=" isOpen":o="Overlay",window.addEventListener("keyup",c),r.a.createElement("div",{className:o,onClick:c},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:a,alt:"",key:t})))}),y=a(8),b=a.n(y),E=a(20),L=a.n(E),O="https://pixabay.com/api/?key=".concat("14483481-79c56d9334325a9bf5ec6966e","&image_type=photo&orientation=horizontal&per_page=12&q="),M=function(e,t){return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(L.a.get(O+e+"&page=".concat(t)));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},S=a(21),I=a.n(S),k=(a(71),function(e){return e.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))}),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={gallery:[],search:"",page:1,idLageImage:"",urlLageImage:"",activeModal:!1,activeLoader:!1},a.searchToFetch=function(e){a.setState({search:e,page:1})},a.fetchPictures=function(e,t){a.setState({activeLoader:!0}),M(e,t).then((function(e){var t=e.data;a.setState({gallery:k(t.hits),activeLoader:!1})}))},a.loadMorePicture=function(){try{a.setState({activeLoader:!0}),M(a.state.search,a.state.page+1).then((function(e){var t=e.data,n=k(t.hits);a.setState((function(e){return{gallery:[].concat(Object(i.a)(e.gallery),Object(i.a)(n)),page:e.page+1,activeLoader:!1}}))}))}catch(e){console.log("error")}setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),800)},a.openModal=function(e,t){a.setState({idLageImage:e,urlLageImage:t,activeModal:!0})},a.closeModal=function(e){"Overlay isOpen"!==e.target.className&&27!==e.keyCode||a.setState({activeModal:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&this.fetchPictures(this.state.search,this.state.page)}},{key:"componentDidMount",value:function(){this.fetchPictures(this.state.search,this.state.page)}},{key:"render",value:function(){var e=this.state,t=e.gallery,a=e.idLageImage,n=e.urlLageImage,c=e.activeModal,o=e.activeLoader;return r.a.createElement("div",{className:"appClass"},r.a.createElement(d,{onSearch:this.searchToFetch}),r.a.createElement(g,{gallery:t,onOpenModal:this.openModal}),r.a.createElement(f,{onLoadMore:this.loadMorePicture}),r.a.createElement(v,{id:a,url:n,active:c,onCloseModal:this.closeModal}),o&&r.a.createElement(I.a,{className:"loader",type:"ThreeDots",color:"#00BFFF",height:500,width:500,timeout:3e3}))}}]),t}(n.Component);a(72);o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.8401d6c5.chunk.js.map